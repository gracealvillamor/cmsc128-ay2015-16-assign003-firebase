<!-- Graceal S. Villamor -->
<!-- CMSC 128 AB - 3L -->
<!-- Recipe Chef Firebase -->

<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<script src='https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css'></script>
	<script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>

    <link href="css/materialize.css" type="text/css" rel="stylesheet"/>
    <link href="css/prism.css" type="text/css" rel="stylesheet"/>

    <script type="text/javascript" src="js/materialize.js"></script>
    <script type="text/javascript" src="js/prism.js"></script>

	<title>Recipe Chef</title>

	 <style type='text/css'>
        nav {
            font-family: arial;
            font-size: 300%;
        }
    </style>
</head>

	<body background="img/food.jpg">
		<div class="navbar navbar-default navbar-fixed-top">
	        <nav class="orange">
	            <div>
	               <a href="index.html" class="center brand-logo">Recipe Chef</a>
	            </div>
	        </nav>
    	</div> 
    </br></br></br></br></br>

    <div style="height:300px;width:300px;margin:0 auto;"> 
      <div id="recipeForm" class="row">
      <div class="col s12 card-panel">
        <form class="login-form">
          <div class="row">
            <div class="input-field col s12 center">
              <h5 class="center login-form-text">Add your recipe!</h5>
            </div>
          </div>
          <div class="row margin">
            <div class="input-field col s12">
              <i class="mdi-social-person-outline prefix"></i>
              <input id="name" type="text">
              <label for="name" class="center-align">Recipe Name</label>
            </div>
          </div>
          <div class="row margin">
           <div class="input-field col s12">
              <i class="mdi-social-person-outline prefix"></i>
              <input id="classification" type="text">
              <label for="classification" class="center-align">Recipe Classification</label>
            </div>
          </div>
          <div class="row">          
            <div class="input-field col s12">
              <i class="mdi-social-person-outline prefix"></i>
              <input id="recipetext" type="text">
              <label for="recipetext" class="center-align">Recipe Text</label>
            </div>
          </div>
          <div class="center">
            <button class="btn waves-effect waves-light col6 s6" type="submit" name="action" onClick="addRecipe()">Submit</button>
          </div>
          <div class="row">
            <div class="input-field">
              <p class="margin medium-small">  <a href='https://recipe-chef.firebaseio.com/'>View Firebase here</a> </p>
            </div>
      </form>
    </div>
  </div>

		<script>
		var myDataRef = new Firebase('https://recipe-chef.firebaseio.com/');

		function addRecipe() {            
            // if recipe entered has complete details, push to the database
            if ($('#name') != '' && $('#classification') != '' && $('#recipetext') != '') {

            	var recipeName = $('#name').val();
	            var recipeClassification = $('#classification').val();
	            var recipeText = $('#recipetext').val();
                
                myDataRef.push({recipeName: recipeName, recipeClassification: recipeClassification, recipeText: recipeText});

                $('#name').val('');
                $('#classification').val('');
                $('#recipetext').val('');
            } else {
            	//print error message
            	console.log("Error in recipe submission!");
            }
        }

		</script>

		<!-- MATERIALIZE -->
		<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    	<script type="text/javascript" src="js/materialize.min.js"></script>
	
	</body>

</html>